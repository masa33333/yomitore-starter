ã€Œèª­ã¿ãƒˆãƒ¬ã€ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰æ©Ÿèƒ½ å®Ÿè£…è¨ˆç”»æ›¸
ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
ç›®çš„
è‹±èªã‚’ã‚„ã‚Šç›´ã™å¤§äººå‘ã‘å¤šèª­ã‚¢ãƒ—ãƒªã«ã€ç¶™ç¶šå­¦ç¿’ã‚’æ”¯æ´ã™ã‚‹ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã€‚
ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼

è‹±èªåˆä¸­ç´šè€…ã®å¤§äºº
1æ—¥15-30åˆ†ã®å­¦ç¿’æ™‚é–“
ç¶™ç¶šãŒèª²é¡Œã®å­¦ç¿’è€…

æ—¢å­˜æ©Ÿèƒ½ã¨ã®çµ±åˆ

ãƒã‚³ãŒä¸–ç•Œã‚’æ—…ã™ã‚‹ï¼ˆèªæ•°ã«å¿œã˜ã¦ï¼‰
ç¾åœ°ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ãŒå±Šã
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èˆˆå‘³ã«åˆã‚ã›ãŸè‡ªå‹•ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‹ç‰©èª

ğŸ“Š åŸºæœ¬è¨­è¨ˆ
ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰ã®éšå±¤æ§‹é€ 
1ã‚¹ã‚¿ãƒ³ãƒ— = 1è©±èª­äº†ï¼ˆç´„200èªï¼‰
â”œâ”€â”€ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆåŸºæœ¬å˜ä½ï¼‰
â”‚   â””â”€â”€ 1è©±èª­äº†ã§ã‚¹ã‚¿ãƒ³ãƒ—1å€‹
â”œâ”€â”€ ã‚«ãƒ¼ãƒ‰ï¼ˆä¸­æœŸç›®æ¨™ï¼‰
â”‚   â””â”€â”€ 50ã‚¹ã‚¿ãƒ³ãƒ—ã§1æšå®Œæˆ
â”œâ”€â”€ ã‚³ã‚¤ãƒ³ï¼ˆé€²æ—ã®å¯è¦–åŒ–ï¼‰
â”‚   â””â”€â”€ 20ã‚¹ã‚¿ãƒ³ãƒ—ã”ã¨ã«1æš
â””â”€â”€ ãƒˆãƒ­ãƒ•ã‚£ãƒ¼ï¼ˆé•·æœŸç›®æ¨™ï¼‰
    â”œâ”€â”€ ãƒ–ãƒ­ãƒ³ã‚ºï¼š5æšã®ã‚«ãƒ¼ãƒ‰å®Œæˆï¼ˆç´„50,000èªï¼‰
    â”œâ”€â”€ ã‚·ãƒ«ãƒãƒ¼ï¼š5å€‹ã®ãƒ–ãƒ­ãƒ³ã‚ºï¼ˆç´„250,000èªï¼‰
    â”œâ”€â”€ ã‚´ãƒ¼ãƒ«ãƒ‰ï¼š5å€‹ã®ã‚·ãƒ«ãƒãƒ¼ï¼ˆç´„1,250,000èªï¼‰
    â””â”€â”€ ãƒ—ãƒ©ãƒãƒŠï¼š4å€‹ã®ã‚´ãƒ¼ãƒ«ãƒ‰ï¼ˆç´„5,000,000èªï¼‰
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³

ã‚«ãƒ¼ãƒ‰ã¯ã€Œæ—…ã®ãƒ«ãƒ¼ãƒˆãƒãƒƒãƒ—ã€å½¢å¼
10ã‚¹ã‚¿ãƒ³ãƒ—ã”ã¨ã«ãƒ¡ãƒ¼ãƒ«é…ä¿¡
ã‚«ãƒ¼ãƒ‰å®Œæˆ = 1ã¤ã®æ—…ã®å®Œçµ

ğŸš€ å®Ÿè£…æ©Ÿèƒ½è©³ç´°
1. å³æ™‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿèƒ½
typescript// ã‚¹ã‚¿ãƒ³ãƒ—ç²å¾—æ™‚ã®æ¼”å‡º
- è¶³è·¡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã½ã‚“ã£ã¨å‡ºç¾ï¼‰
- è¤’ã‚è¨€è‘‰ãƒ©ãƒ³ãƒ€ãƒ è¡¨ç¤ºï¼ˆ"Nice!", "Great!", "Fantastic!"ç­‰ï¼‰
- 5ã®å€æ•°ã§ç‰¹åˆ¥ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼ˆã‚­ãƒ©ã‚­ãƒ©æ¼”å‡ºï¼‰
- åŠ¹æœéŸ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
2. é€£ç¶šãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹
typescript// å ±é…¬ä½“ç³»
3æ—¥é€£ç¶šï¼šãƒœãƒ¼ãƒŠã‚¹ã‚¹ã‚¿ãƒ³ãƒ—+1
7æ—¥é€£ç¶šï¼šç‰¹åˆ¥ãªåˆ‡æ‰‹ãƒ‡ã‚¶ã‚¤ãƒ³è§£æ”¾
14æ—¥é€£ç¶šï¼šãƒã‚³ã®ç‰¹åˆ¥ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼è§£æ”¾
30æ—¥é€£ç¶šï¼šã€Œæ—…ã®æ€ã„å‡ºã‚¢ãƒ«ãƒãƒ ã€1ãƒšãƒ¼ã‚¸è¿½åŠ 
3. ãƒ‡ã‚¤ãƒªãƒ¼é”æˆã‚·ã‚¹ãƒ†ãƒ 
typescript// æ¯æ—¥ã®å°ã•ãªç›®æ¨™
- ä»Šæ—¥ã®æœ€åˆã®1è©±ï¼šã€Œã‚¹ã‚¿ãƒ¼ãƒˆã‚¹ã‚¿ãƒ³ãƒ—ã€
- 1æ—¥3è©±é”æˆï¼šã€Œãƒ‡ã‚¤ãƒªãƒ¼ãƒœãƒ¼ãƒŠã‚¹ã‚¹ã‚¿ãƒ³ãƒ—ã€ï¼ˆåŒã˜ã‚‚ã®ã‚’èª­ã‚“ã§ã‚‚å›æ•°ã«ã‚«ã‚¦ãƒ³ãƒˆï¼‰
- é€±æœ«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼šåœŸæ—¥ã«5è©±èª­ã‚€ã¨ãƒœãƒ¼ãƒŠã‚¹
4. æŒ«æŠ˜é˜²æ­¢æ©Ÿèƒ½
typescript// ãŠã‹ãˆã‚Šãƒœãƒ¼ãƒŠã‚¹
- 3æ—¥ä»¥ä¸Šãƒ­ã‚°ã‚¤ãƒ³ãŒç©ºã„ã¦ã‚‚è²¬ã‚ãªã„
- ã€Œã¾ãŸä¼šãˆã¦å¬‰ã—ã„ï¼ã€ã®æ¸©ã‹ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- å¾©å¸°ãƒœãƒ¼ãƒŠã‚¹ã‚¹ã‚¿ãƒ³ãƒ—é€²å‘ˆ
5. é€²æ—ã®å¯è¦–åŒ–
typescript// å¸¸æ™‚è¡¨ç¤ºè¦ç´ 
- ç¾åœ¨ã®ã‚¹ã‚¿ãƒ³ãƒ—æ•°ï¼50
- æ¬¡ã®ç›®çš„åœ°ã¾ã§ï¼šã‚ã¨â—‹ã‚¹ã‚¿ãƒ³ãƒ—
- ä»Šæœˆã®èª­äº†èªæ•°
- é€£ç¶šãƒ­ã‚°ã‚¤ãƒ³æ—¥æ•°
ğŸ’¾ ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿
typescriptinterface UserProgress {
  // åŸºæœ¬ãƒ‡ãƒ¼ã‚¿
  totalStamps: number;          // ç´¯è¨ˆã‚¹ã‚¿ãƒ³ãƒ—æ•°
  totalWords: number;           // ç´¯è¨ˆèª­äº†èªæ•°
  currentCardStamps: number;    // ç¾åœ¨ã®ã‚«ãƒ¼ãƒ‰å†…ã‚¹ã‚¿ãƒ³ãƒ—æ•°ï¼ˆ0-49ï¼‰
  completedCards: number;       // å®Œæˆã—ãŸã‚«ãƒ¼ãƒ‰æšæ•°
  
  // ã‚³ã‚¤ãƒ³ãƒ»ãƒˆãƒ­ãƒ•ã‚£ãƒ¼
  bronzeCoins: number;          // ãƒ–ãƒ­ãƒ³ã‚ºã‚³ã‚¤ãƒ³æ•°
  bronzeTrophies: number;       // ãƒ–ãƒ­ãƒ³ã‚ºãƒˆãƒ­ãƒ•ã‚£ãƒ¼æ•°
  silverTrophies: number;       // ã‚·ãƒ«ãƒãƒ¼ãƒˆãƒ­ãƒ•ã‚£ãƒ¼æ•°
  goldTrophies: number;         // ã‚´ãƒ¼ãƒ«ãƒ‰ãƒˆãƒ­ãƒ•ã‚£ãƒ¼æ•°
  platinumTrophies: number;     // ãƒ—ãƒ©ãƒãƒŠãƒˆãƒ­ãƒ•ã‚£ãƒ¼æ•°
  
  // é€£ç¶šãƒ­ã‚°ã‚¤ãƒ³
  consecutiveLoginDays: number;  // é€£ç¶šãƒ­ã‚°ã‚¤ãƒ³æ—¥æ•°
  lastLoginDate: string;        // æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³æ—¥
  
  // ãƒ‡ã‚¤ãƒªãƒ¼é”æˆ
  dailyStoriesRead: number;     // ä»Šæ—¥èª­ã‚“ã è©±æ•°
  dailyFirstStoryBonus: boolean; // ä»Šæ—¥ã®æœ€åˆã®è©±ãƒœãƒ¼ãƒŠã‚¹å–å¾—æ¸ˆã¿
  dailyGoalAchieved: boolean;   // ãƒ‡ã‚¤ãƒªãƒ¼ç›®æ¨™é”æˆæ¸ˆã¿
  
  // ãƒ¡ãƒ¼ãƒ«ç®¡ç†
  unreadMails: Mail[];          // æœªèª­ãƒ¡ãƒ¼ãƒ«
  mailHistory: Mail[];          // ãƒ¡ãƒ¼ãƒ«å±¥æ­´
}

interface Mail {
  id: string;
  stationName: string;          // åˆ°ç€ã—ãŸéƒ½å¸‚å
  title: string;                // ãƒ¡ãƒ¼ãƒ«ã‚¿ã‚¤ãƒˆãƒ«
  content: string;              // ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ï¼ˆè‹±èªï¼‰
  imageUrl: string;             // ã”å½“åœ°ç”»åƒURL
  receivedAt: string;           // å—ä¿¡æ—¥æ™‚
  isRead: boolean;              // æ—¢èª­ãƒ•ãƒ©ã‚°
}
ğŸ“ å®Ÿè£…TODO
Phase 1: åŸºæœ¬æ©Ÿèƒ½ï¼ˆå¿…é ˆï¼‰

 ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ

 æ—…ãƒ«ãƒ¼ãƒˆãƒãƒƒãƒ—å½¢å¼ã®ãƒ‡ã‚¶ã‚¤ãƒ³
 50ãƒã‚¹ã®é€²æ—è¡¨ç¤º
 ç¾åœ¨åœ°ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ


 ã‚¹ã‚¿ãƒ³ãƒ—ç²å¾—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

 1è©±èª­äº† = 1ã‚¹ã‚¿ãƒ³ãƒ—
 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ›´æ–°å‡¦ç†


 å³æ™‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å®Ÿè£…

 è¶³è·¡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
 èªæ•°ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—
 è¤’ã‚è¨€è‘‰è¡¨ç¤º



Phase 2: ç¶™ç¶šæ”¯æ´æ©Ÿèƒ½

 é€£ç¶šãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹å®Ÿè£…

 ãƒ­ã‚°ã‚¤ãƒ³æ—¥æ•°ã‚«ã‚¦ãƒ³ãƒˆ
 å ±é…¬ä»˜ä¸ãƒ­ã‚¸ãƒƒã‚¯


 ãƒ‡ã‚¤ãƒªãƒ¼é”æˆã‚·ã‚¹ãƒ†ãƒ 

 æ—¥æ¬¡ãƒªã‚»ãƒƒãƒˆå‡¦ç†
 ãƒœãƒ¼ãƒŠã‚¹ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ä¸


 ãŠã‹ãˆã‚Šãƒœãƒ¼ãƒŠã‚¹

 å¾©å¸°æ¤œçŸ¥ãƒ­ã‚¸ãƒƒã‚¯
 æ¸©ã‹ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º



Phase 3: ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒˆãƒ­ãƒ•ã‚£ãƒ¼æ©Ÿèƒ½

 ã”å½“åœ°ãƒ¡ãƒ¼ãƒ«æ©Ÿèƒ½

 10ã‚¹ã‚¿ãƒ³ãƒ—ã”ã¨ã®é…ä¿¡
 ãƒ¡ãƒ¼ãƒ«ä¸€è¦§ç”»é¢
 æœªèª­ç®¡ç†


 ãƒˆãƒ­ãƒ•ã‚£ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

 å„ç¨®ãƒˆãƒ­ãƒ•ã‚£ãƒ¼è¡¨ç¤º
 ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«çµ±åˆ
 ç²å¾—æ¼”å‡º



Phase 4: æ‹¡å¼µæ©Ÿèƒ½ï¼ˆä½™è£•ãŒã‚ã‚Œã°ï¼‰

 é›£æ˜“åº¦è‡ªå‹•èª¿æ•´
 æœˆé–“ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆåŒ¿åï¼‰
 ã¿ã‚“ãªã®æ—…ãƒãƒƒãƒ—
 ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ï¼ˆãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ï¼‰

ğŸ›  æŠ€è¡“ä»•æ§˜
ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

iOS/Androidä¸¡å¯¾å¿œ
React Nativeä½¿ç”¨æƒ³å®š

å¿…è¦ãªAPI
typescript// æ—¢å­˜APIã¸ã®è¿½åŠ 
POST /api/stories/{storyId}/complete
GET /api/users/{userId}/progress
PUT /api/users/{userId}/stamps
GET /api/users/{userId}/mails
ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

React Native Animatedã¾ãŸã¯react-native-reanimatedä½¿ç”¨
Lottieã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ¤œè¨ï¼ˆã‚¹ã‚¿ãƒ³ãƒ—ç²å¾—æ¼”å‡ºï¼‰

ğŸ“Œ æ³¨æ„äº‹é …

å¤§äººã®å­¦ç¿’è€…å‘ã‘é…æ…®

éåº¦ã«ã‚²ãƒ¼ãƒ çš„ã«ã—ãªã„
ã‚·ãƒ³ãƒ—ãƒ«ã§åˆ†ã‹ã‚Šã‚„ã™ã„UI
æŒ«æŠ˜ã‚’è²¬ã‚ãªã„æ¸©ã‹ã„è¨­è¨ˆ


ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

ã‚¹ã‚¿ãƒ³ãƒ—ç²å¾—ã¯å³åº§ã«åæ˜ 
ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã®è€ƒæ…®


æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹

Phase 1ã‹ã‚‰é †æ¬¡å®Ÿè£…
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’åæ˜ 



1ï¸âƒ£ React Nativeï¼ˆExpoï¼‰å°å…¥ã¯å¿…è¦ã‹ï¼Ÿ
ğŸ…° å½“é¢ã¯ PWAï¼ˆç¾è¡Œ Next.jsï¼‰ã®ã¾ã¾å¼·åŒ–

è¿½åŠ å­¦ç¿’ã‚¼ãƒ­ã€‚ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ ã§æ“¬ä¼¼ãƒã‚¤ãƒ†ã‚£ãƒ–ä½“é¨“ã¯ç¢ºä¿ã€‚

ğŸ…± å°†æ¥ Expo Routerï¼ˆReact Native Web å¯¾å¿œï¼‰ã¸ç§»è¡Œã™ã‚‹é¸æŠè‚¢ã‚’æ®‹ã™

app ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒ Next.js ã¨è¿‘ãã€â€œ1ã‚³ãƒ¼ãƒ‰ã§ Web / iOS / Androidâ€ ã‚’å®Ÿç¾ã§ãã‚‹ã€‚

ç§»è¡Œæ™‚ã¯ UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç½®ãæ›ãˆï¼ˆshadcn/ui â†’ Tamagui ãªã©ï¼‰ã¨ API å±¤ã®åˆ‡ã‚Šå‡ºã— ãŒéµã€‚

âœ… çµè«–ï¼šçŸ­æœŸã¯ PWAã€æ©Ÿèƒ½ãŒå®‰å®šã—ãŸã‚‰ Expo ã§ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã‚’è¿½åŠ ã™ã‚‹äºŒæ®µéšãŒå®‰å…¨ã€‚

2ï¸âƒ£ æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ã¨ã®é€£æº
ğŸ·ï¸ èªæ•°ã‚«ã‚¦ãƒ³ãƒˆã‚„èª­äº†ãƒ•ãƒƒã‚¯ã¯ /lib/readingUtils.ts ãªã©å…±é€šé–¢æ•°ã¨ã—ã¦æŠ½å‡ºã—ã€Web ã§ã‚‚ RN ã§ã‚‚åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ import ã™ã‚‹ã€‚

ğŸŒ èª­æ›¸å®Œäº†æ™‚ã®æ›´æ–° API ã‚’ /api/progress ã«ä¸€æœ¬åŒ–ã—ã€RN å´ã‚‚ fetch ã§å©ãã ã‘ã«ã™ã‚‹ã€‚

ğŸ—‚ï¸ ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†ã¯ React Context ã‹ Zustand ã‚’æ¡ç”¨ã—ã€totalWords ã‚„ stamps ã‚’ã©ã®ç”»é¢ã§ã‚‚å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

3ï¸âƒ£ ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã®æ–¹é‡
ğŸ”Œ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ï¼šç¾è¡Œã® localStorageï¼ˆExpo ãªã‚‰ AsyncStorageï¼‰ã§å³æ™‚æ›¸ãè¾¼ã¿ â†’ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚å‹•ä½œã‚’ä¿è¨¼ã€‚

â˜ï¸ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³åŒæœŸï¼šå¾Œæ®µã§ Supabase ã‚’å°å…¥ã—ã€user_progress ãƒ†ãƒ¼ãƒ–ãƒ«ã«è‡ªå‹•åŒæœŸã€‚

ğŸ”„ åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼šãƒ­ãƒ¼ã‚«ãƒ«ã«æ®‹ã£ã¦ã„ã‚‹ totalWords ç­‰ã‚’ Supabase ã« INSERTï¼CONFLICT UPDATE ã—ã¦æ•´åˆæ€§ã‚’å–ã‚‹ã€‚

4ï¸âƒ£ UIï¼UX ã®æ–¹å‘æ€§
ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã¯â€œã‚·ãƒ³ãƒ—ãƒ«ï¼‹è½ã¡ç€ã„ãŸè‰²å‘³â€ã‚’ç¶­æŒã—ã¦â€œå¤§äººã§ã‚‚æ¥ãšã‹ã—ããªã„â€è¦‹ãŸç›®ã«ã€‚

ğŸ® è¶³ã‚ã¨ã‚¹ã‚¿ãƒ³ãƒ—ã‚„æ¼”å‡ºã¯ ON/OFF ãƒˆã‚°ãƒ«ã‚’è¿½åŠ ã—ã€ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒè‹¦æ‰‹ãªäººã¯éè¡¨ç¤ºã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«ã™ã‚‹ã€‚

ğŸš€ èª­äº†æ¼”å‡ºã¯ 1.5 ç§’ç¨‹åº¦ã®ãƒˆãƒ¼ã‚¹ãƒˆï¼‹ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ ã«ã¨ã©ã‚ã€ãƒ•ãƒ«ç”»é¢ã‚¢ãƒ‹ãƒ¡ã¯ã‚¹ã‚­ãƒƒãƒ—ã§ãã‚‹è¨­è¨ˆã«ã€‚

âœ… ã¾ã¨ã‚
ã¾ãšã¯ PWAã‚’ç£¨ã â†’ Expo å¯¾å¿œã¯ä¸­æœŸã‚¿ã‚¹ã‚¯ã€‚

èªæ•°è¨ˆç®—ãƒ»èª­äº†ãƒ•ãƒƒã‚¯ã‚’å…±é€šãƒ­ã‚¸ãƒƒã‚¯åŒ–ã—ã€Web/RN ä¸¡å¯¾å¿œã‚’è¦‹æ®ãˆã‚‹ã€‚

localStorage â†’ Supabase ã®äºŒæ®µä¿å­˜ã§æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åˆ‡ã‚‰ã•ãšã«ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸã¸ç§»è¡Œã€‚

å¤§äººå‘ã‘ UI ã‚’ä¿ã¡ã¤ã¤ã€ã‚²ãƒ¼ãƒ è¦ç´ ã¯å¯è¦–åŒ–ï¼†ãƒˆã‚°ãƒ«ã§èª¿æ•´ã€‚



# ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰ UI ã®å®Ÿè£…æŒ‡ç¤º

## ç›®çš„
- ã€Œèª­ã¿ãƒˆãƒ¬ã€ã§èª­äº†æ•°ã‚’å¯è¦–åŒ–ã™ã‚‹ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹
- ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ `/public/images/card.png` ã®ç”»åƒå³å´ã‚’å‚è€ƒã«
- ä¸Šéƒ¨ã«ã‚ªãƒ¬ãƒ³ã‚¸åœ°#FFA453ã«èŒ¶è‰²#6E3129ã®æ–‡å­—ã§ã€ŒStamp Cardã€
- ãã®ä¸‹ã®æ¬„ã®è‰²ã¯#fcd8a8ã€é»’å­—ã§ã€Œä¸€ã¤èª­ã‚€ã”ã¨ã«ã‚¹ã‚¿ãƒ³ãƒ—é€²å‘ˆã€‚20å€‹ãŸã¾ã‚‹ã¨ã€œã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã™ã€‚ã€ã€œã«ã¯ä»˜ã‘ãŸåå‰ã‚’ã€‚ãƒ†ã‚­ã‚¹ãƒˆã®å³ã«ã¯èŒ¶ï¼š#6E3129ã®å††ã€ãã®ä¸­ã«ãƒã‚³ã®ç”»åƒ`/public/images/cat-icon.png` 
  - 20 ãƒã‚¹ï¼ˆ5 åˆ— Ã— 4 è¡Œï¼‰ã€æ ç·šã¯èŒ¶ï¼š#6E3129
  - ã‚¹ã‚¿ãƒ³ãƒ—æœªå–å¾—ï¼šç™½
  - ã‚¹ã‚¿ãƒ³ãƒ—å–å¾—ï¼š**è‚‰çƒã‚¢ã‚¤ã‚³ãƒ³**  
    ï¼ˆè‚‰çƒã¯ `/public/images/stamp.png`ã‚’åˆ©ç”¨ï¼‰

## æŠ€è¡“æ¡ä»¶
- **Next.js (App Router) + Tailwind CSS + TypeScript**
- UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ **shadcn/ui** ã‚’å„ªå…ˆ
- 1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¾ã¨ã‚ã€å†åˆ©ç”¨ã§ãã‚‹ã‚ˆã† Props ã§åˆ¶å¾¡  
  - `filledCount: number` â€“ æŠ¼ã•ã‚ŒãŸã‚¹ã‚¿ãƒ³ãƒ—æ•° (0â€“20)
  - `onComplete?: () => void` â€“ 20 å€‹åŸ‹ã¾ã£ãŸç›´å¾Œã«å‘¼ã³å‡ºã™ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ **Framer Motion** ã§ â€œã‚¹ã‚¿ãƒ³ãƒ—ãŒãƒãƒ³â€ ã¨ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³
- ç”»åƒã‚¢ã‚»ãƒƒãƒˆ
  - `/public/images/stamp.png`ï¼ˆé»’ã„è‚‰çƒãƒ­ã‚´ï¼‰ã‚’ `<Image>` ã§èª­ã¿è¾¼ã‚€  
    - ã‚µã‚¤ã‚º 40 Ã— 40 px ã«èª¿æ•´
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–
  - æ¨ªå¹… 320 px ã§åã¾ã‚‹ã‚ˆã† `w-[320px]` å›ºå®š
  - ãƒ¢ãƒã‚¤ãƒ«å„ªå…ˆã€PC ã§ã¯ä¸­å¤®å¯„ã›

## ã‚³ãƒ¼ãƒ‰ä¾‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- ã™ã¹ã¦ **```tsx** ```** å†…ã«åã‚ã‚‹ï¼ˆæ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆå¯ï¼‰
- ä½™è¨ˆãªè§£èª¬æ–‡ã¯ã‚³ãƒ¼ãƒ‰å¤–ã«ä¸€è¡Œã§ç°¡æ½”ã«æ›¸ã


## ãƒã‚°ç™ºç”Ÿ
ç¾åœ¨ã‚¹ã‚¿ãƒ³ãƒ—ã®ç´¯è¨ˆãŒ133å€‹ã€ã§ã€33/20ã¨ãª
  ã£ã¦ã‚‹ã€‚ã¤ã¾ã‚Š20ã§æ¬¡ã®ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰ã«è¡Œ
  ãã¹ãã¨ã“ã‚ãŒã€åˆ‡ã‚Šæ›¿ã‚ã‚‰ãšã«ãšã£ã¨æ•°å­—
  ãŒå¢—ãˆã¦ã„ã‚‹çŠ¶æ…‹ã€‚ä¿®æ­£ã—ã¦ã€‚

âº å•é¡Œã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰ã®è¡¨ç¤º
  ãŒã€Œ33/20ã€ã¨ãªã£ã¦ã„ã‚‹ã®ã¯ã€20å€‹ã§ã‚«ãƒ¼
  ãƒ‰å®Œæˆã™ã‚‹ã¯ãšãªã®ã«æ­£ã—ãåˆ‡ã‚Šæ›¿ã‚ã£ã¦ã„
  ãªã„çŠ¶æ…‹ã§ã™ã­ã€‚

  ã¾ãšç¾åœ¨ã®å•é¡Œã‚’è©³ã—ãèª¿ã¹ã¾ã™ï¼š

âº Update Todos
  â¿ â˜ ã‚¹ã‚¿ãƒ³ãƒ—ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã®ä¿®æ­£ -          
      20å€‹ã§ã‚«ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ã‚ã‚ŠãŒå‹•ä½œã—ãªã„
      å•é¡Œã‚’è§£æ±º
    â˜ ã‚«ãƒ¼ãƒ‰å®Œæˆãƒ­ã‚¸ãƒƒã‚¯ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
      ã“ã¨ã‚’ç¢ºèª

âº Search(pattern: "currentCardStamps.*20",
         glob: "**/*.tsx", output_mode:
        "content")
  â¿  Found 0 lines 

âº Search(pattern: "currentCardStamps",
        glob: "**/*.ts*", output_mode:
        "content")
  â¿  Found 146 lines (ctrl+r to expand)

âº å•é¡ŒãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ã€st
  amp.mdã®ä»•æ§˜ã¨ã‚³ãƒ¼ãƒ‰ãŒæ··åœ¨ã—ã¦ã„ã¾ã™ï¼š

  1. stamp.mdä»•æ§˜: 20å€‹ã§ã‚«ãƒ¼ãƒ‰å®Œæˆ
  2. ç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰: 50å€‹ã§ã‚«ãƒ¼ãƒ‰å®Œæˆï¼ˆ% 
  50ã€Math.floor(totalStamps / 50)ï¼‰

  ã“ã®ä¸æ•´åˆã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚NewS
  tampCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚20å€‹æƒ³å®šã§ä½œã‚‰ã‚Œ
  ã¦ã„ã‚‹ã®ã§ã€å…¨ä½“ã‚’20å€‹ä»•æ§˜ã«çµ±ä¸€ã—ã¾ã™ï¼š

âº Update(src/lib/readingProgress.ts)
  â¿ Updated src/lib/readingProgress.ts    
    with 2 additions and 2 removals
      58          if (parsed.totalStamps 
           !== expectedStamps) {
      59            // Stamp count 
           mismatch detected - correcting 
           silently
      60            parsed.totalStamps = 
           expectedStamps;
      61 -          
    parsed.currentCardStamps =
    expectedStamps % 50;
         - parsed.currentCardStamps = 
         - expectedStamps % 50;
      62 -          parsed.completedCards 
    = Math.floor(expectedStamps / 50);
         - = Math.floor(expectedStamps / 
         - 50);
      61 +          
    parsed.currentCardStamps =
    expectedStamps % 20; // 
    20å€‹ã§ã‚«ãƒ¼ãƒ‰å®Œæˆ
         + parsed.currentCardStamps = 
         + expectedStamps % 20; // 
         + 20å€‹ã§ã‚«ãƒ¼ãƒ‰å®Œæˆ
      62 +          parsed.completedCards 
    = Math.floor(expectedStamps / 20);
         + = Math.floor(expectedStamps / 
         + 20);
      63            // 
           ä¿®æ­£ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
      64            
           saveUserProgress(parsed);
      65          }

âº Update(src/lib/readingProgress.ts)
  â¿ Updated src/lib/readingProgress.ts    
    with 2 additions and 2 removals
      102        // 
    ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯æ—¢å­˜ã®
            completedReadingså€¤ã‚’ä½¿ç”¨
      103        const legacyReadings = 
            
    parseInt(localStorage.getItem(
            'completedReadings') || '0', 
            10);
      104        progress.totalStamps = 
            legacyReadings;
      105 -      
    progress.currentCardStamps =
    progress.totalStamps % 50;
          - progress.currentCardStamps = 
          - progress.totalStamps % 50;
      106 -      progress.completedCards 
    = Math.floor(progress.totalStamps /
    50);
          -  
    Math.floor(progress.totalStam
          - ps / 50);
      105 +      
    progress.currentCardStamps =
    progress.totalStamps % 20; // 
    20å€‹ã§ã‚«ãƒ¼ãƒ‰å®Œæˆ
          + progress.currentCardStamps = 
          + progress.totalStamps % 20; // 
          + 20å€‹ã§ã‚«ãƒ¼ãƒ‰å®Œæˆ
      106 +      progress.completedCards 
    = Math.floor(progress.totalStamps /
    20);
          +  
    Math.floor(progress.totalStam
          + ps / 20);
      107      }
      108      
      109      // ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ - 
            
    èªæ•°ã¨ã‚¹ã‚¿ãƒ³ãƒ—æ•°ã®è«–ç†çš„ãƒã‚§ãƒƒ
            ã‚¯